<html>
    <title>FlyWithJoy</title>
    <head>
        <style>
            body{
                background-image: url("/images/gorre2.jpg");
                background-size: 100%;
            }
            #logout{
                position: absolute;
                border-radius: 5pt;
                left:1080pt;
                top:8pt;
                width:60pt;
                height:25pt;
                background-color: royalblue;
                border-color: royalblue;
                color: white;
                font-size: 12pt;
                font-weight: bold;
                z-index: 10;
            }
            #top{
                position: absolute;
                border-radius: 0pt;
                background: rgba(255,255,255,0.3);
                border-style: solid;
                border-color:transparent;
                border-width: 2pt;
                border-radius: 5pt;
                top:5pt;
                width:98.5%;
                height:50pt;
                z-index: 1;
            }
            #header{
                font-size: 40pt;
                font-weight: bold;
                font-family: consolas;
            }
            #usrname{
                position: absolute;
                z-index: 4;
                left: 85%;
                top:33pt;
                font-size: 13pt;
                font-family: arial;
            }
            #nav{
                position: absolute;
                border-radius: 0pt;
                background: rgba(255,255,255,0.3);
                border-style: solid;
                border-color:transparent;
                border-width: 2pt;
                border-radius: 5pt;
                top:70pt;
                width:98.5%;
                height:20pt;
                z-index: 1;
            }
            #home{
                position: absolute;
                background: transparent;
                left: 0pt;
                border-style: none;
                height: 20pt;
                width: 150pt;
            }
            #pnr{
                position: absolute;
                background: transparent;
                top: 0pt;
                left: 750pt;
                border-style: none;
                height: 20pt;
                width: 150pt;
            }
            #home:hover,#prof:hover,#book:hover,#prm:hover,#mybk:hover,#pnr:hover{
                cursor: pointer;
            }
            #prof{
                position: absolute;
                background: transparent;
                top: 0pt;
                left: 150pt;
                border-style: none;
                height: 20pt;
                width: 150pt;
            }
            #book{
                position: absolute;
                background: transparent;
                background: rgba(255,255,255,0.5);
                top: 0pt;
                left: 300pt;
                border-style: none;
                height: 20pt;
                width: 150pt;
            }
            #div0{
                width: 800pt;
                height: 250pt;
                position: absolute;
                top: 120pt;
                left: 170pt;
                background:rgba(255, 255, 255, 0.3);
            }
            #from{
                position: absolute;
                border-radius: 5pt;
                border-color: royalblue;
                border-style: solid;
                left:85pt;
                top:40pt;
                width:280pt;
                height:30pt;
                padding-left: 10pt;
            }
            #to{
                position: absolute;
                border-radius: 5pt;
                border-color: royalblue;
                border-style: solid;
                left:450pt;
                top:40pt;
                width:280pt;
                height:30pt;
                padding-left: 10pt;
            }
            #date{
                position: absolute;
                border-radius: 5pt;
                border-color: royalblue;
                border-style: solid;
                left:140pt;
                top:100pt;
                width:280pt;
                height:30pt;
                padding-left: 10pt;
            }
            #class{
                position: absolute;
                border-radius: 5pt;
                border-color: royalblue;
                border-style: solid;
                border-width: 2pt;
                left:485pt;
                top:100pt;
                width:280pt;
                height:30pt;
                padding-left: 10pt;
            }
            #from_l{
                position: absolute;
                left:40pt;
                top:48pt;
                font-size: 12pt;
                font-weight: bold;
                font-family: arial;
            }
            #to_l{
                position: absolute;
                left:420pt;
                top:48pt;
                font-size: 12pt;
                font-weight: bold;
                font-family: arial;
            }
            #date_l{
                position: absolute;
                left:40pt;
                top:108pt;
                font-size: 12pt;
                font-weight: bold;
                font-family: arial;
            }
            #class_l{
                position: absolute;
                left:440pt;
                top:108pt;
                font-size: 12pt;
                font-weight: bold;
                font-family: arial;
            }
            #search{
                position: absolute;
                border-radius: 5pt;
                left:250pt;
                top:170pt;
                width:280pt;
                height:30pt;
                background-color: royalblue;
                border-color: royalblue;
                color: white;
                font-size: 12pt;
                font-weight: bold;
                cursor: pointer;
            }
            table{
                position: absolute;
                left: 50pt;
                top:200pt;
                width: 80%;
                background:rgba(255, 255, 255, 0.6);
            }
            td{
                font-size: 13pt;
                text-align: center;
            }
            table,th,td{
                border: 2px solid black;
                border-collapse: collapse;
            }
            #mybk{
                position: absolute;
                background: transparent;
                top: 0pt;
                left: 600pt;
                border-style: none;
                height: 20pt;
                width: 150pt;
            }
            #proceed{
                position: absolute;
                border-radius: 5pt;
                left:350pt;
                top:140pt;
                width:280pt;
                height:30pt;
                background-color: royalblue;
                border-color: royalblue;
                color: white;
                font-size: 12pt;
                font-weight: bold;
                cursor: pointer;
            }
            #error{
                position: absolute;
                left: 430pt;
                top:250pt;
                font-size: 15pt;
                font-family: arial;
                font-weight: bold;
            }
            #prm{
                position: absolute;
                background: transparent;
                top: 0pt;
                left: 450pt;
                border-style: none;
                height: 20pt;
                width: 150pt;
            }
        </style>
        <script>
            var i = 0;
            var fname  = [];
            var fnamez = "<%= fname2 %>";
            fname = JSON.parse(fnamez.replace(/&#34;/g,'\"'));
            //console.log();
            var ffrom = [];
            var fto = [];
            var fdep = [];
            var farr = [];
            var fprc = [];
            var ffromz = "<%= ffrom2 %>";
            ffrom = JSON.parse(ffromz.replace(/&#34;/g,'\"'));
            var ftoz = "<%= fto2 %>";
            fto = JSON.parse(ftoz.replace(/&#34;/g,'\"'));
            var fdepz = "<%= fdep2 %>";
            fdep = JSON.parse(fdepz.replace(/&#34;/g,'\"'));
            var farrz = "<%= farr2 %>";
            farr = JSON.parse(farrz.replace(/&#34;/g,'\"'));
            var fprcz = "<%= fprc2 %>";
            fprc = JSON.parse(fprcz.replace(/&#34;/g,'\"'));
            var n = "<%= len %>";
            //console.log(fname,ffrom,fto,fdep,farr);
            i = 0;
            function st(){
                //console.log(fname);
                if(n == 0){
                    document.getElementById('error').innerHTML = "No Flights Found.";
                    return;
                }
                document.getElementById('select_c').value = fname[0];
                document.getElementById('fname0').innerHTML = fname[0];
                document.getElementById('ffrom0').innerHTML = ffrom[0];
                document.getElementById('fto0').innerHTML = fto[0];
                document.getElementById('fdep0').innerHTML = fdep[0];
                document.getElementById('farr0').innerHTML = farr[0];
                document.getElementById('fprc0').innerHTML = fprc[0];
                i = i + 1;
                while(i!=n){
                createRow(i);
                i = i + 1;
            }
            }
            function createRow(i) {
      var row = document.createElement('tr'); // create row node
      var col = document.createElement('td'); // create column node
      var col2 = document.createElement('td'); // create second column node
      var col3 = document.createElement('td');
      var col4 = document.createElement('td');
      var col5 = document.createElement('td');
      var col6 = document.createElement('td');
      var col7 = document.createElement('td');
      row.appendChild(col); // append first column to row
      row.appendChild(col2); // append second column to row
      row.appendChild(col3);
      row.appendChild(col4);
      row.appendChild(col5);
      row.appendChild(col6);
      row.appendChild(col7);
      row.id = "row" + i;
      col.id = "select" + i;
      col2.id = "fname" + i;
      col3.id = "ffrom" + i;
      col4.id = "fto" + i;
      col5.id = "fdep" + i;
      col6.id = "farr" + i;
      col7.id = "fprc" + i;
      col.innerHTML = "<input type=\"radio\" id=\"select_c\" name=\"select_c\" value=\""+ fname[i] + "\">"; // put data in first column
      col2.innerHTML = fname[i]; // put data in second column
      col3.innerHTML = ffrom[i];
      col4.innerHTML = fto[i];
      col5.innerHTML = fdep[i];
      col6.innerHTML = farr[i];
      col7.innerHTML = fprc[i];
      var table = document.getElementById("tbdy"); // find table to append to
      table.appendChild(row); // append row to table
    }
        </script>
    </head>
    <body onload="st()">
        <script src="login.js"></script>
        <form action="logout" method="POST">
            <button id="logout" type="submit">Logout</button>
        </form>
        <div id="top">
            <label id="header">FlyWithJoy</label>
            <label id="usrname">Hello, <%=name1%></label>
        </div>
        <div id="nav">
            <form action="nav_home" method="POST">
                <button id="home" type="submit">Home</button>
            </form>
            <form action="nav_profile" method="POST">
                <button id="prof" type="submit">Profile</button>
            </form>
            <form action="nav_booking" method="POST">
                <button id="book" type="submit">Book Your Ticket</button>
            </form>
            <form action="nav_promo" method="POST">
                <button id="prm" type="submit">Promo Codes</button>
            </form>
            <form action="nav_mybook" method="POST">
                <button id="mybk" type="submit">My Bookings</button>
            </form>
            <form action="nav_pnr" method="POST">
                <button id="pnr" type="submit">PNR Status</button>
            </form>
        </div>
        <form action="proceed_book" method="POST">
        <table id="search_result">
            <thead>
            <tr>
                <th>Select</th>
                <th>Flight Name</th>
                <th>From</th> 
                <th>To</th>
                <th>Departure</th>
                <th>Arrival</th>
                <th>Price</th>
              </tr>
            </thead>
            <tbody id="tbdy">
              <tr id="row0">
                <td id="select0"><input type="radio" id="select_c" name="select_c"></td>
                <td id="fname0"></td>
                <td id="ffrom0"></td>
                <td id="fto0"></td>
                <td id="fdep0"></td>
                <td id="farr0"></td>
                <td id="fprc0"></td>
              </tr>
            </tbody>
        </table>
        <p id="error"></p>
            <button id="proceed" type="submit">Continue Booking</button>
        </form>
    </body>
</html>